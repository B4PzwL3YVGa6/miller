
run_mlr() {
  echo
  echo ................................................................
  echo mlr "$@"
  ./mlr "$@"
}

mlr_expect_fail() {
  echo
  echo ................................................................
  echo mlr "$@"
  mlr "$@"
  status=$?
  if [ $status -ne 1 ]; then
    echo "Exit status was $status; expected 1."
  fi
}

announce() {
	echo
	echo "================================================================"
	echo "$@"
	echo
}

mention() {
	echo
	echo ---------------------------------------------------------------- "$@"
}

# ================================================================
flags="-a"

# ================================================================
#vee=-v
vee=

## ----------------------------------------------------------------
#announce XTAB
#
#mention input comments1.xtab
#cat reg_test/input/comments/comments1.xtab
#
#mention skip comments1.xtab
#run_mlr --skip-comments --ixtab --odkvp cat < reg_test/input/comments/comments1.xtab
#run_mlr --skip-comments --ixtab --odkvp cat   reg_test/input/comments/comments1.xtab
#
#mention pass comments1.xtab
#run_mlr --pass-comments --ixtab --odkvp cat < reg_test/input/comments/comments1.xtab
#run_mlr --pass-comments --ixtab --odkvp cat   reg_test/input/comments/comments1.xtab
#
#mention input comments2.xtab
#cat reg_test/input/comments/comments2.xtab
#
#mention skip comments2.xtab
#run_mlr --skip-comments --ixtab --odkvp cat < reg_test/input/comments/comments2.xtab
#run_mlr --skip-comments --ixtab --odkvp cat   reg_test/input/comments/comments2.xtab
#
#mention pass comments2.xtab
#run_mlr --pass-comments --ixtab --odkvp cat < reg_test/input/comments/comments2.xtab
#run_mlr --pass-comments --ixtab --odkvp cat   reg_test/input/comments/comments2.xtab

## ----------------------------------------------------------------
#announce DKVP
#
#mention input comments1.dkvp
#cat reg_test/input/comments/comments1.dkvp
#
#mention skip comments1.dkvp
#run_mlr --skip-comments --idkvp --oxtab cat < reg_test/input/comments/comments1.dkvp
#run_mlr --skip-comments --idkvp --oxtab cat   reg_test/input/comments/comments1.dkvp
#
#mention pass comments1.dkvp
#run_mlr --pass-comments --idkvp --oxtab cat < reg_test/input/comments/comments1.dkvp
#run_mlr --pass-comments --idkvp --oxtab cat   reg_test/input/comments/comments1.dkvp
#
#mention input comments2.dkvp
#cat reg_test/input/comments/comments2.dkvp
#
#mention skip comments2.dkvp
#run_mlr --skip-comments --idkvp --oxtab cat < reg_test/input/comments/comments2.dkvp
#run_mlr --skip-comments --idkvp --oxtab cat   reg_test/input/comments/comments2.dkvp
#
#mention pass comments2.dkvp
#run_mlr --pass-comments --idkvp --oxtab cat < reg_test/input/comments/comments2.dkvp
#run_mlr --pass-comments --idkvp --oxtab cat   reg_test/input/comments/comments2.dkvp

# ----------------------------------------------------------------
announce NIDX

mention input comments1.nidx
cat reg_test/input/comments/comments1.nidx

mention skip comments1.nidx
run_mlr --skip-comments --inidx --oxtab cat < reg_test/input/comments/comments1.nidx
run_mlr --skip-comments --inidx --oxtab cat   reg_test/input/comments/comments1.nidx

mention pass comments1.nidx
run_mlr --pass-comments --inidx --oxtab cat < reg_test/input/comments/comments1.nidx
run_mlr --pass-comments --inidx --oxtab cat   reg_test/input/comments/comments1.nidx

mention input comments2.nidx
cat reg_test/input/comments/comments2.nidx

mention skip comments2.nidx
run_mlr --skip-comments --inidx --oxtab cat < reg_test/input/comments/comments2.nidx
run_mlr --skip-comments --inidx --oxtab cat   reg_test/input/comments/comments2.nidx

mention pass comments2.nidx
run_mlr --pass-comments --inidx --oxtab cat < reg_test/input/comments/comments2.nidx
run_mlr --pass-comments --inidx --oxtab cat   reg_test/input/comments/comments2.nidx
